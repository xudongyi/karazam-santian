$.getJSON(ctx + '/uc/autoInvestment/data', {page: 1, rows: 5}, function (res) {    //使用方式跟独立组件完全一样    var tpl = document.getElementById("dataTpl");    laytpl(tpl.innerHTML).render(res, function (string) {        if(res.total>0){            $("#noDataTip").hide();            $("#pagination").show();            $(".answer").show();        }else{            $(".answer").hide();            $("#pagination").hide();            $("#noDataTip").show();        }        $('#dataDiv').html(string);    });    laypage({        skin: '#B81B26',        cont: 'pagination',        pages: res.pages,        jump: function (e, first) { //触发分页后的回调            if (!first) {                $.getJSON(ctx + '/uc/autoInvestment/data', {                    page: e.curr,//当前页                    rows: res.pageSize                }, function (rest) {                    e.pages = e.last = rest.pages; //重新获取总页数，一般不用写                    //解析数据                    laytpl(tpl.innerHTML).render(rest, function (stringt) {                        $('#dataDiv').html(stringt);                    });                });            }        }    });});$("#dateRange ul li").click(function () {    $(this).addClass("cur").siblings().removeClass("cur");    setDateRange($(this).text());    dataLoad();});var startRecoveryTime, endRecoveryTime;function setDateRange(time) {    switch (time) {        case '全部':        {            $("#startDate").val('');            endRecoveryTime = null;            $("#endDate").val('');            startRecoveryTime = null;            break;        }        case '近1个月':        {            $("#endDate").val(new Date().format('yyyy-MM-dd'));            endRecoveryTime = new Date().format('yyyy-MM-dd 23:59:59');            $("#startDate").val(new Date(new Date().setMonth(new Date().getMonth() - 1)).format('yyyy-MM-dd'));            startRecoveryTime = new Date(new Date().setMonth(new Date().getMonth() - 1)).format('yyyy-MM-dd 00:00:00');            break;        }        case '近3个月':        {            $("#endDate").val(new Date().format('yyyy-MM-dd'));            endRecoveryTime = new Date().format('yyyy-MM-dd 23:59:59');            $("#startDate").val(new Date(new Date().setMonth(new Date().getMonth() - 3)).format('yyyy-MM-dd'));            startRecoveryTime = new Date(new Date().setMonth(new Date().getMonth()- 3)).format('yyyy-MM-dd 00:00:00');            break;        }        case '近1年':        {            $("#endDate").val(new Date().format('yyyy-MM-dd'));            endRecoveryTime = new Date().format('yyyy-MM-dd 23:59:59');            $("#startDate").val(new Date(new Date().setFullYear(new Date().getFullYear() - 1)).format('yyyy-MM-dd'));            startRecoveryTime = new Date(new Date().setFullYear(new Date().getFullYear() - 1)).format('yyyy-MM-dd 00:00:00');            break;        }    }}$("#riqiSearch").click(function(){    var start = $('#startDate').val();    startRecoveryTime = new Date(Date.parse(start)).format('yyyy-MM-dd 00:00:00');    var end = $('#endDate').val();    endRecoveryTime = new Date(Date.parse(end)).format('yyyy-MM-dd 23:59:59');    dataLoad();});function dataLoad() {    $.getJSON(ctx + '/uc/autoInvestment/data', {page: 1, rows: 5,"startDate":startRecoveryTime,"endDate":endRecoveryTime}, function (res) {        //使用方式跟独立组件完全一样        var tpl = document.getElementById("dataTpl");        laytpl(tpl.innerHTML).render(res, function (string) {            if(res.total>0){                $("#noDataTip").hide();                $("#pagination").show();                $(".answer").show();            }else{                $(".answer").hide();                $("#pagination").hide();                $("#noDataTip").show();            }            $('#dataDiv').html(string);        });        laypage({            skin: '#B81B26',            cont: 'pagination',            pages: res.pages,            jump: function (e, first) { //触发分页后的回调                if (!first) {                    $.getJSON(ctx + '/uc/autoInvestment/data', {                        page: e.curr,//当前页                        rows: res.pageSize,                        "startDate": startRecoveryTime,                        "endDate": endRecoveryTime                    }, function (rest) {                        e.pages = e.last = rest.pages; //重新获取总页数，一般不用写                        //解析数据                        laytpl(tpl.innerHTML).render(rest, function (stringt) {                            $('#dataDiv').html(stringt);                        });                    });                }            }        });    });}